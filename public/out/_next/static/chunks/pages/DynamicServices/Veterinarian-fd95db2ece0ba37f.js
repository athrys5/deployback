(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{499:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/DynamicServices/Veterinarian",function(){return n(6557)}])},6557:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(5893),i=n(7294),r=n(7905),s=n.n(r),c=n(1664),l=n.n(c),o=n(9198),d=n.n(o);function h(){var e=function(){if("default"!=k.current.value){B("animal");for(var e=0;e<P.length;e++)k.current.value===P[e].name&&M(P[e])}else B("default")},t=function(){u(c.current.value),N(!1),w(!1),B(""),"Site"==c.current.value&&fetch("http://localhost:3000/apiSitesGet",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){x(e.data)})},n=function(){fetch("http://localhost:3000/apiSitesGet",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){v(e.data)})},r=function(e,t){fetch("http://localhost:3000/apiSitesPost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:S,name:e,type:"vet",sitenumber:t})}),N(!1),w(!0)},c=(0,i.useRef)(),o=(0,i.useState)(""),h=o[0],u=o[1],m=(0,i.useState)([]),f=m[0],x=m[1],j=(0,i.useState)([]),p=j[0],v=j[1],_=(0,i.useState)(!1),y=_[0],N=_[1],g=(0,i.useState)(),S=g[0],b=g[1],V=(0,i.useState)(!1),T=V[0],w=V[1],D=new Date,k=(0,i.useRef)(),I=(0,i.useState)([]),C=I[0],B=I[1],E=(0,i.useState)([]),P=E[0],G=E[1],O=(0,i.useState)({}),H=O[0],A=O[1];(0,i.useEffect)(function(){fetch("../exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){A(e)}),H&&fetch("http://localhost:3000/animalget",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){G(e.data)})},[H]);var X=(0,i.useState)([]),F=X[0],M=X[1],R=function(e){var t=e.getDay();return 0!==t&&6!==t},q=function(e){var t=new Date,n=new Date(e);return t.getTime()<n.getTime()};return(0,a.jsxs)("div",{className:"container-fluid",style:{marginBottom:"80px"},children:[(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("h1",{className:s().pageTitle,children:"Veterinarian Service"})}),(0,a.jsxs)("div",{className:"row justify-content-center",children:[(0,a.jsx)("p",{className:s().introduction,children:"Hi, here you can take a reservation for this service. Please select the search filter you prefer!"}),(0,a.jsxs)("select",{className:"form-select ".concat(s().select),"aria-label":"Select the search filter",ref:c,onChange:t,children:[(0,a.jsx)("option",{value:"default",defaultValue:!0,children:"Select the search filter"}),(0,a.jsx)("option",{value:"Site",children:"Search for Site"}),(0,a.jsx)("option",{value:"Date",children:"Search for Date"})]})]}),(0,a.jsxs)("div",{className:"row justify-content-center",children:["Site"==h&&(0,a.jsx)("div",{className:"row justify-content-center",children:f.map(function(e,t){return(0,a.jsx)(a.Fragment,{children:e.services.includes("Veterinarian")?(0,a.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12",children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"card ".concat(s().card),children:(0,a.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,a.jsx)(l(),{href:"/Sites/".concat(e.name),children:(0,a.jsx)("button",{className:"stretched-link ".concat(s().cardBtn)})}),(0,a.jsx)("h5",{className:"card-title ".concat(s().cardTitle),children:e.name}),(0,a.jsx)("hr",{}),(0,a.jsx)("h6",{className:s().city,children:e.city}),(0,a.jsx)("p",{children:"Available Services:"}),e.services.map(function(e,t){return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{children:(0,a.jsx)("li",{children:(0,a.jsx)("p",{className:"card-text",children:e})})})},t)}),(0,a.jsx)("p",{className:"card-footer mt-auto",children:"Click on the card to proceed!"})]})})},t)}):""})})}),"Date"==h&&(0,a.jsxs)("div",{className:"col-lg-5 col-md-6 col-xs-4 ".concat(s().divDate),align:"center",children:[H.key&&P.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:s().pDate,children:"Please select the animal you want to take the reservation for!"}),(0,a.jsxs)("select",{className:"form-select ".concat(s().select),"aria-label":"Select an animal",ref:k,onChange:e,children:[(0,a.jsx)("option",{value:"default",defaultValue:!0,children:"Select your animal"}),P.map(function(e,t){return(0,a.jsx)("option",{value:e.name,children:e.name},t)})]})]}):"",H.key&&0==P.length?(0,a.jsx)("p",{children:"You must insert at least an animal in your profile before continue!"}):(0,a.jsx)("div",{children:"animal"==C&&(0,a.jsxs)("div",{children:[(0,a.jsx)("hr",{}),(0,a.jsx)("p",{className:s().pDate,id:"pdate",children:"Please select the date you prefer!"}),(0,a.jsx)(d(),{selected:S,onChange:function(e){w(!1),null!=e&&(8>e.getHours()||e.getHours()>19)&&e.setHours(D.getHours()+1),N(!0),b(e),n()},onSelect:function(e){e.setHours(D.getHours()+1)},dateFormat:"dd/MM/yyyy , h:mm a",showTimeSelect:!0,minDate:new Date,isClearable:!0,timeIntervals:60,placeholderText:"Choose a date",filterDate:R,filterTime:q,minTime:new Date(0,0,0,8,0),maxTime:new Date(0,0,0,19,0),"aria-label":"select a date for reservation"})]})})]})]}),(0,a.jsxs)("div",{className:"row justify-content-center",children:[!0==y&&null!=S&&"animal"==C&&(0,a.jsx)("div",{children:p.map(function(e,t){return(0,a.jsx)("div",{children:e.services.includes("Veterinarian")?(0,a.jsx)("div",{className:"justify-content-center ".concat(s().cardDiv),children:e.resVet.map(function(t,n){return(0,a.jsx)("div",{children:!t.some(function(e){return e.date==S.toISOString()})&&(0,a.jsxs)("div",{className:"card ".concat(s().card2),children:[(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title ".concat(s().cardTitle),children:e.name}),(0,a.jsx)("hr",{}),(0,a.jsx)("h6",{className:s().city,children:e.city}),(0,a.jsxs)("h6",{children:["Site number: ",e.resVet.indexOf(t)+1]}),(0,a.jsxs)("h6",{className:s().vetinfo,children:["Animal max height: ",e.VetInfo.maxheight]}),(0,a.jsxs)("h6",{className:s().vetinfo,children:["Animal max length: ",e.VetInfo.maxlength]}),(0,a.jsx)("p",{children:"Available Services:"}),e.services.map(function(e,t){return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{children:(0,a.jsx)("li",{children:(0,a.jsx)("p",{className:"card-text",children:e})})})},t)})]}),parseInt(F.height)<=parseInt(e.VetInfo.maxheight)&&parseInt(F.length)<=parseInt(e.VetInfo.maxlength)&&(0,a.jsx)("button",{className:"card-footer ".concat(s().bookBtn),disabled:!H.key,onClick:function(){return r(e.name,e.resVet.indexOf(t))},children:"Book"}),parseInt(F.height)>parseInt(e.VetInfo.maxheight)||parseInt(F.length)>parseInt(e.VetInfo.maxlength)?(0,a.jsx)("button",{className:"card-footer ".concat(s().cantbookBtn),disabled:!0,children:"The size of the animal is not suitable"}):""]})},n)})}):""},t)})}),!H.key&&(0,a.jsx)("p",{className:s().resP,children:"You are not logged , you can't take a reservation"}),!0==T&&(0,a.jsx)("p",{className:s().resP,children:"Reservation Made"})]}),(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsx)("div",{className:"col-lg-3 col-md-5 col-sm-8",children:(0,a.jsx)(l(),{href:"../Services",children:(0,a.jsx)("button",{className:s().btn,children:"Go Back to Services"})})})})]})}n(8698)},7905:function(e){e.exports={pageTitle:"Veterinarian_pageTitle__CwbmK",introduction:"Veterinarian_introduction__NhLTb",select:"Veterinarian_select__GjELX",btn:"Veterinarian_btn__Xcxww",cardDiv:"Veterinarian_cardDiv__T_A3p",card:"Veterinarian_card__n334_",card2:"Veterinarian_card2__e5hWy",cardTitle:"Veterinarian_cardTitle__VySXc",divDate:"Veterinarian_divDate__ySrqI",pDate:"Veterinarian_pDate__a6EQ8",bookBtn:"Veterinarian_bookBtn__Tp2rV",resP:"Veterinarian_resP__5y99p",city:"Veterinarian_city__snsTj",vetinfo:"Veterinarian_vetinfo__FGGBq",cardBtn:"Veterinarian_cardBtn__sKO0o",cantbookBtn:"Veterinarian_cantbookBtn__b0xTE"}}},function(e){e.O(0,[544,774,888,179],function(){return e(e.s=499)}),_N_E=e.O()}]);