(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(705)}])},705:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var s=t(5893),a=t(7568),c=t(655),r=t(7294),l=t(1822),i=t.n(l),o=function(e){var n=function(n){n.preventDefault();var s=t.current.value,c=a.current.value;e.onChangePassword({oldPassword:s,newPassword:c}),t.current.value="",a.current.value=""},t=(0,r.useRef)(),a=(0,r.useRef)();return(0,s.jsxs)("form",{className:i().form,onSubmit:n,children:[(0,s.jsxs)("div",{className:i().control,children:[(0,s.jsx)("label",{htmlFor:"new-password",children:"New Password:"}),(0,s.jsx)("input",{type:"password",id:"new-password",ref:a})]}),(0,s.jsxs)("div",{className:i().control,children:[(0,s.jsx)("label",{htmlFor:"old-password",children:"Old Password:"}),(0,s.jsx)("input",{type:"password",id:"old-password",ref:t})]}),(0,s.jsx)("div",{className:i().action,children:(0,s.jsx)("button",{children:"Change Password"})})]})},d=t(4587),u=t.n(d),h=function(){var e=(0,r.useState)({}),n=e[0],t=e[1];function l(){return(l=(0,a.Z)(function(e){var n,s;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,fetch("http://localhost:3000/apichangepassword",{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[4,n.sent().json()];case 2:return t(n.sent()),[2]}})})).apply(this,arguments)}return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"row justify-content-center",style:{marginTop:"16px",padding:0},children:(0,s.jsxs)("div",{className:"col-lg-6 col-md-10 card ".concat(u().cardtitle),children:[(0,s.jsxs)("section",{className:u().profile,children:[(0,s.jsx)("h2",{className:u().title,children:"Change Password"}),(0,s.jsx)(o,{onChangePassword:function(e){return l.apply(this,arguments)}})]}),(0,s.jsx)("p",{className:u().res,children:n.message})]})})})},m=t(9268),p=t.n(m);function x(){var e=(0,r.useState)([]),n=e[0],t=e[1];return(0,r.useEffect)(function(){fetch("http://localhost:3000/apiorders",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e.data)})},[]),(0,s.jsx)("div",{className:"container-fluid",lang:"en",children:n.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:p().title,children:["Your Orders (",n.length,")"]}),n.map(function(e,n){return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(p().card),children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("p",{className:p().orderDate,children:["Order Date: ",e.date]}),(0,s.jsxs)("div",{children:[e.order.map(function(e,n){return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:p().prodName,children:e.name}),(0,s.jsxs)("p",{className:p().prodPrice,children:["Price: $",e.price]}),(0,s.jsxs)("p",{className:p().prodQuantity,children:["Qty: ",e.quantity]}),(0,s.jsx)("hr",{})]},n)}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:p().total,children:["TOTAL PAID:  $",e.price]})})]})]})})})},n)})]}):(0,s.jsx)("h2",{className:p().title,children:"No Orders"})})}var j=t(6663),f=t.n(j),b=t(7672),_=t.n(b);function v(){var e=function(){fetch("http://localhost:3000/dataAccountPatch",{method:"POST",headers:{"Content-Type":"application/json"}}),fetch("http://localhost:3000/apipostsPatch",{method:"PATCH",headers:{"Content-Type":"application/json"}}),i(!0)},n=(0,r.useState)([]),t=n[0],a=n[1],c=(0,r.useState)(!1),l=c[0],i=c[1];return(0,r.useEffect)(function(){fetch("http://localhost:3000/dataAccountGet",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.data)})},[l]),(0,s.jsx)("div",{className:"row justify-content-center",lang:"en",children:(0,s.jsxs)("div",{className:"card col-lg-6 col-md-10 shadow",style:{marginTop:"16px",border:"none"},children:[(0,s.jsx)("h2",{className:_().title,children:"Account Data"}),t.map(function(n,t){return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"namelabel",children:"First Name"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.firstname,"aria-describedby":"namelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"snamelabel",children:"Second Name"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.secondname,"aria-describedby":"snamelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"citylabel",children:"City"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.city,"aria-describedby":"citylabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"statelabel",children:"State"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.state,"aria-describedby":"statelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"addresslabel",children:"Address"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.address,"aria-describedby":"addresslabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"emailabel",children:"Email"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.email,"aria-describedby":"emaillabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"uilabel",children:"User Id"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:n.userid,"aria-describedby":"uilabel",disabled:!0})]})}),!1==n.vip?(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("button",{className:"shadow ".concat(_().vipbutton),onClick:e,children:"Upgrade to VIP"})}):(0,s.jsxs)("div",{className:"row justify-content-center",children:[(0,s.jsx)("span",{className:_().vipLabel,children:"You have a VIP Account"}),(0,s.jsx)("span",{children:(0,s.jsx)("h4",{children:"If you don't see any changes, try to relog!"})})]})]},t)})]})})}var N=t(3286),y=t.n(N);function g(){var e=function(){""==n.current.value||""==t.current.value||""==a.current.value||""==c.current.value||""==l.current.value||""==i.current.value?p(!0):fetch("http://localhost:3000/animalpost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g.user.email,name:n.current.value,gender:t.current.value,breed:a.current.value,height:c.current.value,length:l.current.value,age:i.current.value})}),n.current.value="",t.current.value="",a.current.value="",c.current.value="",l.current.value="",i.current.value=""},n=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null),c=(0,r.useRef)(null),l=(0,r.useRef)(null),i=(0,r.useRef)(null),o=(0,r.useState)(""),d=o[0],u=o[1],h=(0,r.useState)(!1),m=h[0],p=h[1],x=(0,r.useState)(""),j=x[0],f=x[1],b=(0,r.useState)(""),_=b[0],v=b[1],N=(0,r.useState)({}),g=N[0],w=N[1];return(0,r.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){w(e)})},[]),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"col-lg-6 col-md-10 card shadow",style:{marginTop:"16px",border:"none"},children:[(0,s.jsx)("h2",{className:y().title,children:"Insert Animals"}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"namelabel",children:"Name"}),(0,s.jsx)("input",{type:"text",ref:n,className:"form-control ".concat(y().labelchild),"aria-describedby":"namelabel",placeholder:"Toby"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"genderlabel",children:"Gender"}),(0,s.jsx)("input",{type:"text",ref:t,className:"form-control ".concat(y().labelchild),"aria-describedby":"genderlabel",placeholder:"Male"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"breedlabel",children:"Type"}),(0,s.jsx)("input",{type:"text",ref:a,className:"form-control ".concat(y().labelchild),"aria-describedby":"breedlabel",placeholder:"Dog"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"heightlabel",children:"Height(cm)"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:c,value:j,className:"form-control ".concat(y().labelchild),"aria-describedby":"heightlabel",onChange:function(e){return f(function(n){return e.target.validity.valid?e.target.value:n})},placeholder:"57"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"lenlabel",children:"Length(cm)"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:l,value:_,className:"form-control ".concat(y().labelchild),"aria-describedby":"lenlabel",onChange:function(e){return v(function(n){return e.target.validity.valid?e.target.value:n})},placeholder:"80"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"agelabel",children:"Age"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:i,value:d,className:"form-control ".concat(y().labelchild),"aria-describedby":"agelabel",onChange:function(e){return u(function(n){return e.target.validity.valid?e.target.value:n})},placeholder:"10"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("button",{className:"btn ".concat(y().button),onClick:e,children:"Save Animal"})}),!0==m&&(0,s.jsx)("p",{className:y().requiredMsg,children:"All fields are required"})]})})}var w=t(6589),C=t.n(w),A=t(3750);function S(){var e=function(e){fetch("http://localhost:3000/animaldelete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({animalid:e})}),i(!0)},n=(0,r.useState)([]),t=n[0],a=n[1],c=(0,r.useState)([!1]),l=c[0],i=c[1];return(0,r.useEffect)(function(){i(!1),fetch("http://localhost:3000/animalget",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.data)})},[l]),(0,s.jsx)("div",{className:"container-fluid",lang:"en",children:t.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:C().title,children:["Your Animals (",t.length,")"]}),t.map(function(n,t){return(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"card col-lg-6 col-md-10 col-sm-10 ".concat(C().card),children:[(0,s.jsxs)("div",{className:"card-body",style:{padding:"1px"},children:[(0,s.jsx)("p",{className:C().name,children:n.name}),(0,s.jsxs)("p",{className:C().gender,children:["Gender: ",n.gender]}),(0,s.jsxs)("p",{className:C().breed,children:["Type: ",n.breed]}),(0,s.jsxs)("p",{className:C().height,children:["Height(cm): ",n.height]}),(0,s.jsxs)("p",{className:C().length,children:["Length(cm): ",n.length]}),(0,s.jsxs)("p",{className:C().age,children:["Age: ",n.age]})]}),(0,s.jsx)("div",{className:C().icon,children:(0,s.jsx)("button",{className:C().delete,onClick:function(){return e(n._id)},children:(0,s.jsx)(A.dnY,{size:25})})})]})},t)})]}):(0,s.jsx)("h2",{className:C().title,children:"No Animals"})})}var T=t(4441),M=t.n(T);function G(){var e=(0,r.useState)({}),n=e[0],t=e[1],a=(0,r.useState)([]),c=a[0],l=a[1];return(0,r.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e)}),fetch("http://localhost:3000/apimyres",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e.data),l(e.data)})},[]),(0,s.jsxs)("div",{className:"container-fluid",lang:"en",children:[(0,s.jsx)("h2",{className:M().title,children:"Your Reservations"}),(0,s.jsx)("h6",{className:M().subtitle,children:"It's possibile you don't display anything if you haven't ever take a reservation!"}),c.map(function(e,t){return(0,s.jsxs)("div",{children:[void 0!=e.resDog&&e.resDog.map(function(t,a){return(0,s.jsx)("div",{children:t.map(function(a,c){return(0,s.jsx)("div",{children:a.id==n.user.email&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(M().card),children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:M().resName,children:e.name}),(0,s.jsxs)("p",{className:M().resCity,children:["City: ",e.city]}),(0,s.jsx)("p",{className:M().resService,children:"Service: Dog Sitter"}),(0,s.jsxs)("p",{className:M().resService,children:["Site number: ",e.resDog.indexOf(t)+1]}),(0,s.jsxs)("p",{className:M().resDate,children:["Time: ",a.date]})]})})})})})},c)})},a)}),void 0!=e.resVet&&e.resVet.map(function(t,a){return(0,s.jsx)("div",{children:t.map(function(a,c){return(0,s.jsx)("div",{children:a.id==n.user.email&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(M().card),children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:M().resName,children:e.name}),(0,s.jsxs)("p",{className:M().resCity,children:["City: ",e.city]}),(0,s.jsx)("p",{className:M().resService,children:"Service: Veterinarian"}),(0,s.jsxs)("p",{className:M().resService,children:["Site number: ",e.resVet.indexOf(t)+1]}),(0,s.jsxs)("p",{className:M().resDate,children:["Time: ",a.date]})]})})})})},c)},c)})},a)})]},t)})]})}var P=function(){var e=(0,r.useState)(""),n=e[0],t=e[1],a=(0,r.useState)({}),c=a[0],l=a[1];return(0,r.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){l(e)}),t("pw")},[]),(0,s.jsx)("div",{className:"container-fluid",style:{marginBottom:"60px"},children:(0,s.jsx)("div",{className:"row",children:c.key?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-12 ".concat(f().section),children:[(0,s.jsx)("h2",{className:f().title,children:"Your Profile"}),(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:f().listMain,role:"menu",children:[(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("pw")},role:"menuitem",children:"Change password"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("ord")},role:"menuitem",children:"My orders"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("acc")},role:"menuitem",children:"Account data"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("anim")},role:"menuitem",children:"Insert animals"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("myanim")},role:"menuitem",children:"My animals"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return t("myres")},role:"menuitem",children:"My Reservations"})})]})})]}),(0,s.jsxs)("div",{className:"col-lg-9 col-md-8 col-xs-2",children:["pw"==n&&(0,s.jsx)(h,{}),"ord"==n&&(0,s.jsx)(x,{}),"acc"==n&&(0,s.jsx)(v,{}),"anim"==n&&(0,s.jsx)(g,{}),"myanim"==n&&(0,s.jsx)(S,{}),"myres"==n&&(0,s.jsx)(G,{})]})]}):(0,s.jsx)("p",{style:{textAlign:"center"},children:"NOT LOGGED"})})})}},7672:function(e){e.exports={inputG:"AccountData_inputG__GcCwz",title:"AccountData_title__Aym_x",label:"AccountData_label__kPmRW",labelchild:"AccountData_labelchild__0bkwQ",vipLabel:"AccountData_vipLabel__Imqqx",vipbutton:"AccountData_vipbutton__RDWdJ"}},3286:function(e){e.exports={inputG:"InsertAnimals_inputG___Hiku",title:"InsertAnimals_title__Cr2lu",label:"InsertAnimals_label__ERFF5",labelchild:"InsertAnimals_labelchild__vFeAS",button:"InsertAnimals_button__C2Cnp",requiredMsg:"InsertAnimals_requiredMsg__kmyi5"}},6589:function(e){e.exports={title:"MyAnimals_title__DjOFT",card:"MyAnimals_card___1CIL",name:"MyAnimals_name__Ias1u",gender:"MyAnimals_gender___uqWg",breed:"MyAnimals_breed__nWudM",height:"MyAnimals_height__868Ax",length:"MyAnimals_length__lQFr1",age:"MyAnimals_age__cH2r4",icon:"MyAnimals_icon__cdSWV",delete:"MyAnimals_delete__X7JAk"}},9268:function(e){e.exports={card:"MyOrders_card__rvdfO",title:"MyOrders_title__62zs7",orderDate:"MyOrders_orderDate__8zLPM",prodName:"MyOrders_prodName__Bp4zv",prodPrice:"MyOrders_prodPrice__DifXV",prodQuantity:"MyOrders_prodQuantity__mhs9_",total:"MyOrders_total__fT8St"}},4441:function(e){e.exports={card:"MyRes_card__hNu_W",title:"MyRes_title__T8hHx",subtitle:"MyRes_subtitle__r_Cd0",resName:"MyRes_resName__y_QlP",resCity:"MyRes_resCity__wty3P",resService:"MyRes_resService__9kjy8",resDate:"MyRes_resDate__8ln9S"}},1822:function(e){e.exports={form:"profile-form_form__CW_yz",control:"profile-form_control__RFibq",action:"profile-form_action__xSIGg"}},4587:function(e){e.exports={cardtitle:"user-profile_cardtitle__DBdqW",profile:"user-profile_profile__Y_0Fm",title:"user-profile_title__9z7eI",res:"user-profile_res__pC_AU"}},6663:function(e){e.exports={title:"profile_title__y0uS6",listMain:"profile_listMain__97U9g",section:"profile_section__m3CS6",btn:"profile_btn__oGvAp",btnlist:"profile_btnlist__5Ga7K"}},7568:function(e,n,t){"use strict";function s(e,n,t,s,a,c,r){try{var l=e[c](r),i=l.value}catch(o){t(o);return}l.done?n(i):Promise.resolve(i).then(s,a)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(a,c){var r=e.apply(n,t);function l(e){s(r,a,c,l,i,"next",e)}function i(e){s(r,a,c,l,i,"throw",e)}l(void 0)})}}t.d(n,{Z:function(){return a}})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);