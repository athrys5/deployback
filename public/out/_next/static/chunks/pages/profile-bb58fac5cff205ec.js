(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(2632)}])},2632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var s=n(5893);function a(e,t,n,s,a,i,c){try{var r=e[i](c),l=r.value}catch(o){n(o);return}r.done?t(l):Promise.resolve(l).then(s,a)}var i=n(655),c=n(7294),r=n(1822),l=n.n(r),o=function(e){var t=function(t){t.preventDefault();var s=n.current.value,i=a.current.value;e.onChangePassword({oldPassword:s,newPassword:i}),n.current.value="",a.current.value=""},n=(0,c.useRef)(),a=(0,c.useRef)();return(0,s.jsxs)("form",{className:l().form,onSubmit:t,children:[(0,s.jsxs)("div",{className:l().control,children:[(0,s.jsx)("label",{htmlFor:"new-password",children:"New Password:"}),(0,s.jsx)("input",{type:"password",id:"new-password",ref:a})]}),(0,s.jsxs)("div",{className:l().control,children:[(0,s.jsx)("label",{htmlFor:"old-password",children:"Old Password:"}),(0,s.jsx)("input",{type:"password",id:"old-password",ref:n})]}),(0,s.jsx)("div",{className:l().action,children:(0,s.jsx)("button",{children:"Change Password"})})]})},d=n(4587),u=n.n(d),h=function(){var e=(0,c.useState)({}),t=e[0],n=e[1];function r(){var e;return e=function(e){var t,s;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("http://site212242.tw.cs.unibo.it/apichangepassword",{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return n(t.sent()),[2]}})},(r=function(){var t=this,n=arguments;return new Promise(function(s,i){var c=e.apply(t,n);function r(e){a(c,s,i,r,l,"next",e)}function l(e){a(c,s,i,r,l,"throw",e)}r(void 0)})}).apply(this,arguments)}return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"row justify-content-center",style:{marginTop:"16px",padding:0},children:(0,s.jsxs)("div",{className:"col-lg-6 col-md-10 card ".concat(u().cardtitle),children:[(0,s.jsxs)("section",{className:u().profile,children:[(0,s.jsx)("h2",{className:u().title,children:"Change Password"}),(0,s.jsx)(o,{onChangePassword:function(e){return r.apply(this,arguments)}})]}),(0,s.jsx)("p",{className:u().res,children:t.message})]})})})},m=n(9268),p=n.n(m);function x(){var e=(0,c.useState)([]),t=e[0],n=e[1];return(0,c.useEffect)(function(){fetch("http://site212242.tw.cs.unibo.it/apiorders",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n(e.data)})},[]),(0,s.jsx)("div",{className:"container-fluid",lang:"en",children:t.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:p().title,children:["Your Orders (",t.length,")"]}),t.map(function(e,t){return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(p().card),children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("p",{className:p().orderDate,children:["Order Date: ",e.date]}),(0,s.jsxs)("div",{children:[e.order.map(function(e,t){return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:p().prodName,children:e.name}),(0,s.jsxs)("p",{className:p().prodPrice,children:["Price: $",e.price]}),(0,s.jsxs)("p",{className:p().prodQuantity,children:["Qty: ",e.quantity]}),(0,s.jsx)("hr",{})]},t)}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:p().total,children:["TOTAL PAID:  $",e.price]})})]})]})})})},t)})]}):(0,s.jsx)("h2",{className:p().title,children:"No Orders"})})}var j=n(6663),f=n.n(j),b=n(7672),_=n.n(b);function v(){var e=function(){fetch("http://site212242.tw.cs.unibo.it/dataAccountPatch",{method:"POST",headers:{"Content-Type":"application/json"}}),fetch("http://site212242.tw.cs.unibo.it/apipostsPatch",{method:"PATCH",headers:{"Content-Type":"application/json"}}),l(!0)},t=(0,c.useState)([]),n=t[0],a=t[1],i=(0,c.useState)(!1),r=i[0],l=i[1];return(0,c.useEffect)(function(){fetch("http://site212242.tw.cs.unibo.it/dataAccountGet",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.data)})},[r]),(0,s.jsx)("div",{className:"row justify-content-center",lang:"en",children:(0,s.jsxs)("div",{className:"card col-lg-6 col-md-10 shadow",style:{marginTop:"16px",border:"none"},children:[(0,s.jsx)("h2",{className:_().title,children:"Account Data"}),n.map(function(t,n){return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"namelabel",children:"First Name"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.firstname,"aria-describedby":"namelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"snamelabel",children:"Second Name"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.secondname,"aria-describedby":"snamelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"citylabel",children:"City"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.city,"aria-describedby":"citylabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"statelabel",children:"State"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.state,"aria-describedby":"statelabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"addresslabel",children:"Address"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.address,"aria-describedby":"addresslabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"emailabel",children:"Email"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.email,"aria-describedby":"emaillabel",disabled:!0})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(_().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(_().label),id:"uilabel",children:"User Id"}),(0,s.jsx)("input",{type:"text",className:"form-control ".concat(_().labelchild),placeholder:t.userid,"aria-describedby":"uilabel",disabled:!0})]})}),!1==t.vip?(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("button",{className:"shadow ".concat(_().vipbutton),onClick:e,children:"Upgrade to VIP"})}):(0,s.jsxs)("div",{className:"row justify-content-center",children:[(0,s.jsx)("span",{className:_().vipLabel,children:"You have a VIP Account"}),(0,s.jsx)("span",{children:(0,s.jsx)("h4",{children:"If you don't see any changes, try to relog!"})})]})]},n)})]})})}var N=n(3286),y=n.n(N);function g(){var e=function(){""==t.current.value||""==n.current.value||""==a.current.value||""==i.current.value||""==r.current.value||""==l.current.value?p(!0):fetch("http://site212242.tw.cs.unibo.it/animalpost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g.user.email,name:t.current.value,gender:n.current.value,breed:a.current.value,height:i.current.value,length:r.current.value,age:l.current.value})}),t.current.value="",n.current.value="",a.current.value="",i.current.value="",r.current.value="",l.current.value=""},t=(0,c.useRef)(null),n=(0,c.useRef)(null),a=(0,c.useRef)(null),i=(0,c.useRef)(null),r=(0,c.useRef)(null),l=(0,c.useRef)(null),o=(0,c.useState)(""),d=o[0],u=o[1],h=(0,c.useState)(!1),m=h[0],p=h[1],x=(0,c.useState)(""),j=x[0],f=x[1],b=(0,c.useState)(""),_=b[0],v=b[1],N=(0,c.useState)({}),g=N[0],w=N[1];return(0,c.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){w(e)})},[]),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"col-lg-6 col-md-10 card shadow",style:{marginTop:"16px",border:"none"},children:[(0,s.jsx)("h2",{className:y().title,children:"Insert Animals"}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"namelabel",children:"Name"}),(0,s.jsx)("input",{type:"text",ref:t,className:"form-control ".concat(y().labelchild),"aria-describedby":"namelabel",placeholder:"Toby"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"genderlabel",children:"Gender"}),(0,s.jsx)("input",{type:"text",ref:n,className:"form-control ".concat(y().labelchild),"aria-describedby":"genderlabel",placeholder:"Male"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"breedlabel",children:"Type"}),(0,s.jsx)("input",{type:"text",ref:a,className:"form-control ".concat(y().labelchild),"aria-describedby":"breedlabel",placeholder:"Dog"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"heightlabel",children:"Height(cm)"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:i,value:j,className:"form-control ".concat(y().labelchild),"aria-describedby":"heightlabel",onChange:function(e){return f(function(t){return e.target.validity.valid?e.target.value:t})},placeholder:"57"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"lenlabel",children:"Length(cm)"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:r,value:_,className:"form-control ".concat(y().labelchild),"aria-describedby":"lenlabel",onChange:function(e){return v(function(t){return e.target.validity.valid?e.target.value:t})},placeholder:"80"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"input-group mb-3 ".concat(y().inputG),children:[(0,s.jsx)("span",{className:"input-group-text ".concat(y().label),id:"agelabel",children:"Age"}),(0,s.jsx)("input",{type:"text",pattern:"[0-9]*",ref:l,value:d,className:"form-control ".concat(y().labelchild),"aria-describedby":"agelabel",onChange:function(e){return u(function(t){return e.target.validity.valid?e.target.value:t})},placeholder:"10"})]})}),(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("button",{className:"btn ".concat(y().button),onClick:e,children:"Save Animal"})}),!0==m&&(0,s.jsx)("p",{className:y().requiredMsg,children:"All fields are required"})]})})}var w=n(6589),C=n.n(w),A=n(3750);function S(){var e=function(e){fetch("http://site212242.tw.cs.unibo.it/animaldelete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({animalid:e})}),l(!0)},t=(0,c.useState)([]),n=t[0],a=t[1],i=(0,c.useState)([!1]),r=i[0],l=i[1];return(0,c.useEffect)(function(){l(!1),fetch("http://site212242.tw.cs.unibo.it/animalget",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.data)})},[r]),(0,s.jsx)("div",{className:"container-fluid",lang:"en",children:n.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:C().title,children:["Your Animals (",n.length,")"]}),n.map(function(t,n){return(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"card col-lg-6 col-md-10 col-sm-10 ".concat(C().card),children:[(0,s.jsxs)("div",{className:"card-body",style:{padding:"1px"},children:[(0,s.jsx)("p",{className:C().name,children:t.name}),(0,s.jsxs)("p",{className:C().gender,children:["Gender: ",t.gender]}),(0,s.jsxs)("p",{className:C().breed,children:["Type: ",t.breed]}),(0,s.jsxs)("p",{className:C().height,children:["Height(cm): ",t.height]}),(0,s.jsxs)("p",{className:C().length,children:["Length(cm): ",t.length]}),(0,s.jsxs)("p",{className:C().age,children:["Age: ",t.age]})]}),(0,s.jsx)("div",{className:C().icon,children:(0,s.jsx)("button",{className:C().delete,onClick:function(){return e(t._id)},children:(0,s.jsx)(A.dnY,{size:25})})})]})},n)})]}):(0,s.jsx)("h2",{className:C().title,children:"No Animals"})})}var T=n(4441),M=n.n(T);function G(){var e=(0,c.useState)({}),t=e[0],n=e[1],a=(0,c.useState)([]),i=a[0],r=a[1];return(0,c.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n(e)}),fetch("http://site212242.tw.cs.unibo.it/apimyres",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e.data),r(e.data)})},[]),(0,s.jsxs)("div",{className:"container-fluid",lang:"en",children:[(0,s.jsx)("h2",{className:M().title,children:"Your Reservations"}),(0,s.jsx)("h6",{className:M().subtitle,children:"It's possibile you don't display anything if you haven't ever take a reservation!"}),i.map(function(e,n){return(0,s.jsxs)("div",{children:[void 0!=e.resDog&&e.resDog.map(function(n,a){return(0,s.jsx)("div",{children:n.map(function(a,i){return(0,s.jsx)("div",{children:a.id==t.user.email&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(M().card),children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:M().resName,children:e.name}),(0,s.jsxs)("p",{className:M().resCity,children:["City: ",e.city]}),(0,s.jsx)("p",{className:M().resService,children:"Service: Dog Sitter"}),(0,s.jsxs)("p",{className:M().resService,children:["Site number: ",e.resDog.indexOf(n)+1]}),(0,s.jsxs)("p",{className:M().resDate,children:["Time: ",a.date]})]})})})})})},i)})},a)}),void 0!=e.resVet&&e.resVet.map(function(n,a){return(0,s.jsx)("div",{children:n.map(function(a,i){return(0,s.jsx)("div",{children:a.id==t.user.email&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"card ".concat(M().card),children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:M().resName,children:e.name}),(0,s.jsxs)("p",{className:M().resCity,children:["City: ",e.city]}),(0,s.jsx)("p",{className:M().resService,children:"Service: Veterinarian"}),(0,s.jsxs)("p",{className:M().resService,children:["Site number: ",e.resVet.indexOf(n)+1]}),(0,s.jsxs)("p",{className:M().resDate,children:["Time: ",a.date]})]})})})})},i)},i)})},a)})]},n)})]})}var P=function(){var e=(0,c.useState)(""),t=e[0],n=e[1],a=(0,c.useState)({}),i=a[0],r=a[1];return(0,c.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){r(e)}),n("pw")},[]),(0,s.jsx)("div",{className:"container-fluid",style:{marginBottom:"60px"},children:(0,s.jsx)("div",{className:"row",children:i.key?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-12 ".concat(f().section),children:[(0,s.jsx)("h2",{className:f().title,children:"Your Profile"}),(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:f().listMain,role:"menu",children:[(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("pw")},role:"menuitem",children:"Change password"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("ord")},role:"menuitem",children:"My orders"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("acc")},role:"menuitem",children:"Account data"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("anim")},role:"menuitem",children:"Insert animals"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("myanim")},role:"menuitem",children:"My animals"})}),(0,s.jsx)("div",{className:f().btnlist,children:(0,s.jsx)("button",{className:f().btn,onClick:function(){return n("myres")},role:"menuitem",children:"My Reservations"})})]})})]}),(0,s.jsxs)("div",{className:"col-lg-9 col-md-8 col-xs-2",children:["pw"==t&&(0,s.jsx)(h,{}),"ord"==t&&(0,s.jsx)(x,{}),"acc"==t&&(0,s.jsx)(v,{}),"anim"==t&&(0,s.jsx)(g,{}),"myanim"==t&&(0,s.jsx)(S,{}),"myres"==t&&(0,s.jsx)(G,{})]})]}):(0,s.jsx)("p",{style:{textAlign:"center"},children:"NOT LOGGED"})})})}},7672:function(e){e.exports={inputG:"AccountData_inputG__GcCwz",title:"AccountData_title__Aym_x",label:"AccountData_label__kPmRW",labelchild:"AccountData_labelchild__0bkwQ",vipLabel:"AccountData_vipLabel__Imqqx",vipbutton:"AccountData_vipbutton__RDWdJ"}},3286:function(e){e.exports={inputG:"InsertAnimals_inputG___Hiku",title:"InsertAnimals_title__Cr2lu",label:"InsertAnimals_label__ERFF5",labelchild:"InsertAnimals_labelchild__vFeAS",button:"InsertAnimals_button__C2Cnp",requiredMsg:"InsertAnimals_requiredMsg__kmyi5"}},6589:function(e){e.exports={title:"MyAnimals_title__DjOFT",card:"MyAnimals_card___1CIL",name:"MyAnimals_name__Ias1u",gender:"MyAnimals_gender___uqWg",breed:"MyAnimals_breed__nWudM",height:"MyAnimals_height__868Ax",length:"MyAnimals_length__lQFr1",age:"MyAnimals_age__cH2r4",icon:"MyAnimals_icon__cdSWV",delete:"MyAnimals_delete__X7JAk"}},9268:function(e){e.exports={card:"MyOrders_card__rvdfO",title:"MyOrders_title__62zs7",orderDate:"MyOrders_orderDate__8zLPM",prodName:"MyOrders_prodName__Bp4zv",prodPrice:"MyOrders_prodPrice__DifXV",prodQuantity:"MyOrders_prodQuantity__mhs9_",total:"MyOrders_total__fT8St"}},4441:function(e){e.exports={card:"MyRes_card__hNu_W",title:"MyRes_title__T8hHx",subtitle:"MyRes_subtitle__r_Cd0",resName:"MyRes_resName__y_QlP",resCity:"MyRes_resCity__wty3P",resService:"MyRes_resService__9kjy8",resDate:"MyRes_resDate__8ln9S"}},1822:function(e){e.exports={form:"profile-form_form__CW_yz",control:"profile-form_control__RFibq",action:"profile-form_action__xSIGg"}},4587:function(e){e.exports={cardtitle:"user-profile_cardtitle__DBdqW",profile:"user-profile_profile__Y_0Fm",title:"user-profile_title__9z7eI",res:"user-profile_res__pC_AU"}},6663:function(e){e.exports={title:"profile_title__y0uS6",listMain:"profile_listMain__97U9g",section:"profile_section__m3CS6",btn:"profile_btn__oGvAp",btnlist:"profile_btnlist__5Ga7K"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);