(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{5097:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Forum",function(){return t(4998)}])},4998:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(5893),i=t(7294),a=t(7414),c=t.n(a),o=t(9352),r=t(5927),l=t.n(r),d=t(5434);function u(e){var s=e.hide,t=(0,i.useState)({}),a=t[0],c=t[1],o=(0,i.useRef)(null),r="";(0,i.useEffect)(function(){fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){c(e)})},[]);var u="",h=!1,m=function(e){r=o.current.value,a.key?(u=a.user.email,a.user.vip&&(h=!0)):u="Anonymous",fetch("http://site212242.tw.cs.unibo.it/apipostsPost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({desc:r,useremail:u,vipState:h})}).then().then(function(){window.location.reload()})};return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"modal show fade",style:{display:"block",backgroundColor:"rgba(0,0,0,0.8)"},children:(0,n.jsx)("div",{className:"modal-dialog",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-header",children:[(0,n.jsx)("div",{className:"modal-title",children:(0,n.jsxs)("div",{className:l().title,children:[(0,n.jsx)("h3",{className:l().h3,children:"Brag about your Pet"}),(0,n.jsx)(d.Rq7,{size:30})]})}),(0,n.jsx)("button",{type:"button",className:"btn-close",onClick:s})]}),(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsx)("textarea",{ref:o,className:l()["form-control"],id:"exampleFormControlTextarea1",rows:"3","aria-label":"Write something about your pet",placeholder:"write something about your pet..."})}),(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsx)("button",{type:"button",className:l().button,onClick:m,children:"Publish"})})]})]})})})})}function h(){var e=function(e){fetch("http://site212242.tw.cs.unibo.it/apipostsDelete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({descid:e})}),f(!0)},s=function(){k(!0),E(!1),S(!1)},t=function(){S(!0),k(!1),E(!1)},a=function(){E(!0),k(!1),S(!1)},r=(0,i.useState)([]),l=r[0],h=r[1],m=(0,i.useState)([!1]),j=m[0],f=m[1],_=(0,i.useState)({}),x=_[0],N=_[1],p=(0,i.useState)(!1),v=p[0],b=p[1],y=(0,i.useState)(!1),C=y[0],k=y[1],w=(0,i.useState)(!1),T=w[0],S=w[1],g=(0,i.useState)(!0),B=g[0],E=g[1],P=function(e){return b(!0)};return(0,i.useEffect)(function(){f(!1),fetch("http://site212242.tw.cs.unibo.it/apipostsGet",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){h(e.data)}),fetch("./exist.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){N(e)})},[j]),(0,n.jsxs)("div",{className:"container-fluid",style:{marginBottom:"20px"},children:[(0,n.jsxs)("div",{className:"row justify-content-center",children:[(0,n.jsx)("button",{className:"shadow ".concat(c().button),onClick:P,children:"Hi, click me if you want to add a post!"}),!0==v?(0,n.jsx)(u,{hide:function(){return b(!1)}}):""]}),(0,n.jsxs)("div",{className:"row justify-content-center",children:[(0,n.jsx)("button",{className:c().filterBtn,onClick:s,style:{backgroundColor:"#cb99c5"},children:"Only VIP"}),(0,n.jsx)("button",{className:c().filterBtn,onClick:t,style:{backgroundColor:"#FFC116"},children:"Only Standard"}),(0,n.jsx)("button",{className:c().filterBtn,onClick:a,style:{backgroundColor:"#389430"},children:"All"})]}),(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsx)("div",{className:c().container,children:!0==C||!0==B?(0,n.jsx)("div",{children:l.slice(0).reverse().map(function(s,t){return(0,n.jsx)("div",{children:!0==s.vip&&(0,n.jsx)("div",{className:"card ".concat(c().cardlayout),children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("div",{className:c().descruser,children:[(0,n.jsx)(o.eNb,{size:30}),(0,n.jsx)("div",{className:c().vipicon,children:(0,n.jsx)(o.g$E,{size:25})}),(0,n.jsx)("p",{className:c().uservip,children:s.email}),(0,n.jsx)("div",{className:c().deleteDiv,children:x.key&&x.user.email==s.email?(0,n.jsx)("button",{className:c().deleteBtn,onClick:function(){return e(s._id)},children:(0,n.jsx)(d.ZkW,{size:25})}):""})]}),(0,n.jsx)("p",{className:c().testo,children:s.testo}),(0,n.jsx)("div",{className:c().descactions,children:(0,n.jsx)("p",{className:c().data,children:s.date})})]})})},t)})}):""})}),(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsx)("div",{className:c().container,children:!0==T||!0==B?(0,n.jsx)("div",{children:l.slice(0).reverse().map(function(s,t){return(0,n.jsx)("div",{children:!1==s.vip&&(0,n.jsx)("div",{className:"card ".concat(c().cardlayout),children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("div",{className:c().descruser,children:[(0,n.jsx)(o.eNb,{size:30}),(0,n.jsx)("p",{className:c().user,children:s.email}),(0,n.jsx)("div",{className:c().deleteDiv,children:x.key&&x.user.email==s.email?(0,n.jsx)("button",{className:c().deleteBtn,onClick:function(){return e(s._id)},children:(0,n.jsx)(d.ZkW,{size:25})}):""})]}),(0,n.jsx)("p",{className:c().testo,children:s.testo}),(0,n.jsx)("div",{className:c().descactions,children:(0,n.jsx)("p",{className:c().data,children:s.date})})]})})},t)})}):""})})]})}function m(){return(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)(h,{})})})})}},7414:function(e){e.exports={cardlayout:"Cards_cardlayout__fc_oN",container:"Cards_container__fuG8B",descruser:"Cards_descruser__hUjud",user:"Cards_user__nJk7F",uservip:"Cards_uservip__H0lT2",testo:"Cards_testo__zI_ge",data:"Cards_data___ftCN",deleteBtn:"Cards_deleteBtn__YhTAU",descactions:"Cards_descactions__shemq",button:"Cards_button__qNcHk",vipicon:"Cards_vipicon__w_fIN",deleteDiv:"Cards_deleteDiv__s0U00",filterBtn:"Cards_filterBtn__vsPm3"}},5927:function(e){e.exports={title:"Modal_title__uSA6S",h3:"Modal_h3__fBoTf","form-control":"Modal_form-control__DoLyl",button:"Modal_button__HGQBK"}}},function(e){e.O(0,[937,774,888,179],function(){return e(e.s=5097)}),_N_E=e.O()}]);